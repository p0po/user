CREATE TABLE `user` (
	`ID` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
	`NICKNAME` VARCHAR(64) NULL DEFAULT NULL COMMENT '昵称',
	`REAL_NAME` VARCHAR(64) NULL DEFAULT NULL COMMENT '真实姓名',
	`PHONE` BIGINT(11) UNSIGNED NULL DEFAULT NULL COMMENT '手机号',
	`EMAIL` VARCHAR(512) NULL DEFAULT NULL COMMENT '邮箱',
	`GENDER` BIT(1) NULL DEFAULT NULL COMMENT '性别',
	`BIRTHDAY` DATE NULL DEFAULT '1970-01-01' COMMENT '出生日期',
	`SOURCE` VARCHAR(50) NOT NULL DEFAULT '0' COMMENT '来源',
	`CREATE_TIME` DATETIME NOT NULL,
	`UPDATE_TIME` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
	`DELETED` BIT(1) NOT NULL DEFAULT b'0' COMMENT '是否删除',
	`OPENID` VARCHAR(64) NULL DEFAULT '0' COMMENT '微信ID',
	PRIMARY KEY (`ID`)
)
COMMENT='用户表，不含登陆密码'
COLLATE='utf8mb4_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=1
;

CREATE TABLE `passport` (
	`ID` INT(11) UNSIGNED NOT NULL AUTO_INCREMENT,
	`USER_ID` INT(11) UNSIGNED NOT NULL DEFAULT '0' COMMENT '用户ID',
	`PASSWORD` VARCHAR(64) NOT NULL DEFAULT '0' COMMENT '密码',
	`SALT` VARCHAR(16) NOT NULL DEFAULT '0' COMMENT '密码盐',
	`LAST_LOGIN_TIME` DATETIME NULL DEFAULT NULL COMMENT '上次登录时间',
	`LAST_LOGIN_IP` VARCHAR(16) NULL DEFAULT '0' COMMENT '上次登录IP',
	`LAST_LOGIN_UA` VARCHAR(50) NULL DEFAULT NULL COMMENT '上次登录UA',
	`UPDATE_TIME` DATETIME NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
	`PASSWORD_SET_TIME` DATETIME NOT NULL COMMENT '密码更新时间',
	PRIMARY KEY (`ID`),
	UNIQUE INDEX `USER_ID` (`USER_ID`)
)
COMMENT='用户登陆认证表'
COLLATE='utf8mb4_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=1
;